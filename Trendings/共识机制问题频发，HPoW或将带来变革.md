### 共识机制问题频发，HPoW或将带来变革

    “
    在7月19日举办的2018全球媒体峰会上，金融MBA学术主任、美国财务学会会员曹辉宁发表题为《区块链向何处去》的演讲，他表示，POW、POS、POA、DPOS等共识机制都各有优缺点，认为需要一个新的共识机制改善目前的状况。
    ”

目前的共识机制普遍存在着能源和电力的大量浪费，处理效率的低下，中心化问题突出，安全性问题以及易用性问题等弊端，针对这些问题，各个领域的组织机构在积极寻求解决方案，而其中MATRIX所设计的HyperPoW 共识机制为这些问题的解决提供了可能性。

MATRIX的HyperPoW是基于“超级节点+POW”的机制，引入AI核心技术，在兼顾去中心化的同时满足性能和安全性需求，核心是解决共识机制的效率问题，而导致效率低下的问题是多方面的，MATRIX主要针对其中的三个方面进行技术上的改进。下面主要对HPoW在中心化问题、TBS峰值问题、公平性问题方面进行具体的说明。


#### 随机性引入，规避中心化问题

MATRIX采用AI技术从所有节点中随机产生32个超级节点，再从超级节点中随机选择其中21个成为挖矿节点，另外11个作为监督（验证）节点。

主节点分为矿工节点（10KMAN deposit/1KTPS）和验证节点(100KMAN deposit/1KTPS)，均每小时选举一次。采用逐级选举出32个SuperNode进行挖矿。同时，再独立选举出11个验证SuperNode节点进行监督与判决，并提供计算任务的分发验证。


矿工节点：矿工选举周期的设计，主要目的是为矿工提供一个稳定合理的算力租赁时间间隔，同时又保证每个底层主节点都有机会成为超级节点完成挖矿和验证工作。根据统计结果，即使是1万个主节点情况下，每2个星期，任一主节点都有机会成为SuperNode。

验证节点：验证SuperNode节点最大配置为11个， 最大支持三层，即L1层的附属验证节点为22个，L2层的附属验证节点为44个，L3层的附属验证节点为88个。总计165个可用验证节点。验证者需要保障整个网络的安全可靠，维持基础区块的打包，提供各项基础RPC服务。验证节点（165个）除了参与即可获得的固定收益（验证者总收益*1/8），11 个验证委员会节点将平均分配其余7/8的收益。


负责挖矿的21个挖矿节点并非依次打包交易，在打包交易的过程中，有类似POW机制的算力竞争制度。监督节点根据挖矿节点的传输速率、出块效率等进行投票，对最终生成区块的挖矿节点进行调整和监督。

超级节点的选择有一定的随机性，每个选举周期定期更换分组。随机选举算法不与硬件绑定，而是由多个validator共同参与生成，每一个validator只是占有其中的一部分，所以随机算法由多个validator共同决定，而单个validator。


MATRIX基于标识与签名而进行超级节点的选举。会提供一个随机函数，这个函数将产生一个【0~1】区间的值，而各个节点按照互不重叠的方式，根据自身上报的能力获得一个区间分布。随机数落在那个区间，那个区间的主节点将成为胜利者；其余节点按照顺序排布规则形成三叉树，最终形成完成的树状网络结构。为防止作弊，针对上报的能力，我们有一个验证算法，在随机起始区块位置和规定的时间段内，统一对全体主节点进行校验。另外，随机数生成我们也有防止作弊的方法，采用联合生成随机种子，且随机数种子需要验证者节点以加密形式发布，从而保证作弊不可能发生。

其余节点按照顺序排布规则形成三叉树，最终形成完成的树状网络结构。为防止作弊，针对上报的能力，我们有一个验证算法，在随机起始区块位置和规定的时间段内，统一对全体主节点进行校验。另外，随机数生成我们也有防止作弊的方法，采用联合生成随机种子，且随机数种子需要验证者节点以加密形式发布，从而保证作弊不可能发生。

尽管通过设计一个随机函数即可达到随机性的要求，但存在着效率低下的问题，而使用AI则可以在随机的判断过程，对大量的数据进行处理分析，以此提升随机的效率，同时避免随机结果受到影响。


#### 通信芯片推进效率升级

MATRIX目前已经实现1000至2000TPS，而采用集群方式，显著提升TPS，实验室环境下采用VU7P+ZU21DR 的FPGA开发板，在ZU21 DR的armCortex-A53运行，这样的条件下部署了2个矿工/1个验证者，不进行加密签名的条件下，能够达到50KTPS。同时，AI将对节点进行预判，预判后将部分可能发起恶意攻击的节点归类到一个特定的池中进行观测。若节点被判定为正常节点，AI将通过神经递归技术将节点递归回原有节点列表中，用以预判节点的AI已经进行了近一年半的学习训练。

目前人工智能+区块链的壁垒在于硬件的开发，MATRIX下一步想要研发自己的矿机芯片。通过把人工智能深度学习的算法的程序、模型程序固化到芯片中，一方面可以防止算法和模型被篡改，解决算法安全问题。另一方面可以将数据交到芯片模型去处理，不需要经过计算机的总线、CPU、显卡等，所以速度也会更快


#### “暗黑守护神”，即时监督

此外，MATRIX创造性的引入暗黑守护机制，防护各类网络攻击与针对传统超级节点的挟持攻击。通过设定“暗黑守护者”，主要是实时验证整个网络是否有作弊现象，核心是验证总账，采用复式记账法，对每个账户/每个交易类别进行统计。基金会会进行部署，同时会公布这部分的验证代码。这个属于义务劳动，但如果发现有作弊现象，并通知基金会，基金会会进行奖励。基金会本身的守护者不会获得奖励。

    共识机制是区块链体系下的核心组成，却存在着大量问题有待解决，但是毋庸置疑，共识机制无论是现在还是未来都是左右区块链真正落地的决定技术。HPoW是否会成为共识机制的标准，还未可知，但MATRIX所提供的技术为共识机制的演进提供了前瞻性的指导。